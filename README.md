# MQTT 环境监控
简要说明：基于 MQTT over WebSocket 的前端监控页面，用于实时展示温度、湿度、风速和光照等环境数据。

## 📚 开发日志

## V3.6.1 更新内容

**AI 弹窗重构**:
- 居中弹出、渐进缩放，聊天区滚动不再被遮挡
- 移动端高度优化，自适应内容高度，避免虚拟键盘挤压
- 样式精简 移除重复/冲突的 AI 样式
- 弹窗打开时锁定背景滚动，安全区内边距适配


### v3.5 - AI 集成与优化 (2025-12-19)
**AI 助手功能**：
- 🤖 集成火山方舟豆包 API 提供 AI 分析功能
- 🔗 MQTT 获取 API Key 机制
- 💬 对话历史管理（最多 20 条，防止内存溢出）
- 🎯 环境数据 AI 分析与建议
**安全性加固**：
- 🔒 API Key 使用密码输入框存储
- 🛡️ JSON.parse 错误处理
- 🚫 XSS 防护 - HTML 特殊字符转义
- 👤 ClientID 过滤实现多客户端隔离
**UI/UX 改进**：
- 🎨 模型选择移至 API Key 上方
- 🔘 "获取 API" 按键与模型选择并排
- ⚡ 事件监听优化，减少不必要的 DOM 操作
- 📍 定时器清理机制防止内存泄漏

### v3.3 - 项目优化
**整体项目优化**：
- ⚡ 性能优化 - CSS变量系统、动画性能提升
- 🎯 代码优化 - 添加节流防抖、DOM缓存机制
- ♿ 无障碍支持 - 添加ARIA标签、减少动效偏好支持
- 🔧 可维护性 - 统一配置常量、优化代码结构

